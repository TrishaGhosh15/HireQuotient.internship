import{getEasingFunction as e,Animation as t}from"@motionone/animation";import{MotionValue as n}from"@motionone/types";import{noopReturn as o,addUniqueItem as i,progress as s,isFunction as r,defaults as a,isCubicBezier as c,isString as l,isEasingGenerator
as f,isEasingList as u,isNumber as d,time as g,noop as m,removeItem as h,mix as p,getEasingForSegment as v,defaultOffset as y,fillOffset as w,velocityPerSecond as E,interpolate as b}from"@motionone/utils";import{__rest as A}from"tslib";import{invariant
as S}from"hey-listen";import{pregenerateKeyframes as O,calcGeneratorVelocity as x,spring as z,glide as V}from"@motionone/generators";const W=new WeakMap;function getAnimationData(e){W.has(e)||W.set(e,{transforms:[],values:new Map});return W.get(e)}function
getMotionValue(e,t){e.has(t)||e.set(t,new n);return e.get(t)}const L=["","X","Y","Z"];const T=["translate","scale","rotate","skew"];const D={x:"translateX",y:"translateY",z:"translateZ"};const M={syntax:"
<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"};const k={translate:{syntax:"
    <length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:M,scale:{syntax:"
        <number>",initialValue:1,toDefaultUnit:o},skew:M};const B=new Map;const asTransformCssVar=e=>`--motion-${e}`;const C=["x","y","z"];T.forEach((e=>{L.forEach((t=>{C.push(e+t);B.set(asTransformCssVar(e+t),k[e])}))}));const compareTransformOrder=(e,t)=>C.indexOf(e)-C.indexOf(t);const
            N=new Set(C);const isTransform=e=>N.has(e);const addTransformToElement=(e,t)=>{D[t]&&(t=D[t]);const{transforms:n}=getAnimationData(e);i(n,t);e.style.transform=buildTransformTemplate(n)};const buildTransformTemplate=e=>e.sort(compareTransformOrder).reduce(transformListToString,"").trim();const
            transformListToString=(e,t)=>`${e} ${t}(var(${asTransformCssVar(t)}))`;const isCssVar=e=>e.startsWith("--");const j=new Set;function registerCssVariable(e){if(!j.has(e)){j.add(e);try{const{syntax:t,initialValue:n}=B.has(e)?B.get(e):{};CSS.registerProperty({name:e,inherits:false,syntax:t,initialValue:n})}catch(e){}}}const
            testAnimation=(e,t)=>document.createElement("div").animate(e,t);const P={cssRegisterProperty:()=>"undefined"!==typeof CSS&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{testAnimation({opacity:[1]})}catch(e){return
            false}return true},finished:()=>Boolean(testAnimation({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{testAnimation({opacity:0},{easing:"linear(0, 1)"})}catch(e){return false}return true}};const $={};const R={};for(const e
            in P)R[e]=()=>{void 0===$[e]&&($[e]=P[e]());return $[e]};const H=.015;const generateLinearEasingPoints=(e,t)=>{let n="";const o=Math.round(t/H);for(let t=0;t
            <o;t++)n+=e(s(0,o-1,t))+ ", ";return n.substring(0,n.length-2)};const convertEasing=(e,t)=>r(e)?R.linearEasing()?`linear(${generateLinearEasingPoints(e,t)})`:a.easing:c(e)?cubicBezierAsString(e):e;const cubicBezierAsString=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`;function hydrateKeyframes(e,t){for(let n=0;n
                <e.length;n++)null===e[n]&&(e[n]=n?e[n-1]:t());return
                    e}const keyframesList=e=>Array.isArray(e)?e:[e];function getStyleName(e){D[e]&&(e=D[e]);return isTransform(e)?asTransformCssVar(e):e}const I={get:(e,t)=>{t=getStyleName(t);let n=isCssVar(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!n&&0!==n){const
                    e=B.get(t);e&&(n=e.initialValue)}return n},set:(e,t,n)=>{t=getStyleName(t);isCssVar(t)?e.style.setProperty(t,n):e.style[t]=n}};function stopAnimation(e,t=true){if(e&&"finished"!==e.playState)try{if(e.stop)e.stop();else{t&&e.commitStyles();e.cancel()}}catch(e){}}function
                    getUnitConverter(e,t){var n;let i=(null===t||void 0===t?void 0:t.toDefaultUnit)||o;const s=e[e.length-1];if(l(s)){const e=(null===(n=s.match(/(-?[\d.]+)([a-z%]*)/))||void 0===n?void 0:n[2])||"";e&&(i=t=>t+e)}return i}function getDevToolsRecord(){return
                    window.__MOTION_DEV_TOOLS_RECORD}function animateStyle(e,t,n,o={},i){const s=getDevToolsRecord();const c=false!==o.record&&s;let l;let{duration:h=a.duration,delay:p=a.delay,endDelay:v=a.endDelay,repeat:y=a.repeat,easing:w=a.easing,direction:E,offset:b,allowWebkitAcceleration:A=false}=o;const
                    S=getAnimationData(e);const O=isTransform(t);let x=R.waapi();O&&addTransformToElement(e,t);const z=getStyleName(t);const V=getMotionValue(S.values,z);const W=B.get(z);stopAnimation(V.animation,!(f(w)&&V.generator)&&false!==o.record);return()=>{const
                    readInitialValue=()=>{var t,n;return null!==(n=null!==(t=I.get(e,z))&&void 0!==t?t:null===W||void 0===W?void 0:W.initialValue)&&void 0!==n?n:0};let a=hydrateKeyframes(keyframesList(n),readInitialValue);const S=getUnitConverter(a,W);if(f(w)){const
                    e=w.createAnimation(a,"opacity"!==t,readInitialValue,z,V);w=e.easing;a=e.keyframes||a;h=e.duration||h}isCssVar(z)&&(R.cssRegisterProperty()?registerCssVariable(z):x=false);O&&!R.linearEasing()&&(r(w)||u(w)&&w.some(r))&&(x=false);if(x){W&&(a=a.map((e=>d(e)?W.toDefaultUnit(e):e)));1!==a.length||R.partialKeyframes()&&!c||a.unshift(readInitialValue());const
                    t={delay:g.ms(p),duration:g.ms(h),endDelay:g.ms(v),easing:u(w)?void 0:convertEasing(w,h),direction:E,iterations:y+1,fill:"both"};l=e.animate({[z]:a,offset:b,easing:u(w)?w.map((e=>convertEasing(e,h))):void 0},t);l.finished||(l.finished=new
                    Promise(((e,t)=>{l.onfinish=e;l.oncancel=t})));const n=a[a.length-1];l.finished.then((()=>{I.set(e,z,n);l.cancel()})).catch(m);A||(l.playbackRate=1.000001)}else if(i&&O){a=a.map((e=>"string"===typeof e?parseFloat(e):e));1===a.length&&a.unshift(parseFloat(readInitialValue()));l=new
                    i((t=>{I.set(e,z,S?S(t):t)}),a,Object.assign(Object.assign({},o),{duration:h,easing:w}))}else{const t=a[a.length-1];I.set(e,z,W&&d(t)?W.toDefaultUnit(t):t)}c&&s(e,t,a,{duration:h,delay:p,easing:w,repeat:y,offset:b},"motion-one");V.setAnimation(l);return
                    l}}const getOptions=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e);function resolveElements(e,t){var n;if("string"===typeof e)if(t){null!==(n=t[e])&&void 0!==n?n:t[e]=document.querySelectorAll(e);e=t[e]}else
                    e=document.querySelectorAll(e);else e instanceof Element&&(e=[e]);return Array.from(e||[])}const createAnimation=e=>e();const withControls=(e,t,n=a.duration)=>new Proxy({animations:e.map(createAnimation).filter(Boolean),duration:n,options:t},U);const
                    getActiveAnimation=e=>e.animations[0];const U={get:(e,t)=>{const n=getActiveAnimation(e);switch(t){case"duration":return e.duration;case"currentTime":return g.s((null===n||void 0===n?void 0:n[t])||0);case"playbackRate":case"playState":return
                    null===n||void 0===n?void 0:n[t];case"finished":e.finished||(e.finished=Promise.all(e.animations.map(selectFinished)).catch(m));return e.finished;case"stop":return()=>{e.animations.forEach((e=>stopAnimation(e)))};case"forEachNative":return
                    t=>{e.animations.forEach((n=>t(n,e)))};default:return"undefined"===typeof(null===n||void 0===n?void 0:n[t])?void 0:()=>e.animations.forEach((e=>e[t]()))}},set:(e,t,n)=>{switch(t){case"currentTime":n=g.ms(n);case"currentTime":case"playbackRate":for(let
                    o=0;o
                    <e.animations.length;o++)e.animations[o][t]=n;return true}return false}};const selectFinished=e=>e.finished;function stagger(t=.1,{start:n=0,from:o=0,easing:i}={}){return(s,r)=>{const a=d(o)?o:getFromIndex(o,r);const c=Math.abs(a-s);let l=t*c;if(i){const n=r*t;const o=e(i);l=o(l/n)*n}return n+l}}function getFromIndex(e,t){if("first"===e)return
                        0;{const n=t-1;return"last"===e?n:n/2}}function resolveOption(e,t,n){return r(e)?e(t,n):e}function createAnimate(e){return function animate(t,n,o={}){t=resolveElements(t);const i=t.length;const s=[];for(let r=0;r
                        <i;r++){const a=t[r];for(const
                            t in n){const c=getOptions(o,t);c.delay=resolveOption(c.delay,r,i);const l=animateStyle(a,t,n[t],c,e);s.push(l)}}return withControls(s,o,o.duration)}}const F=createAnimate(t);function calcNextTime(e,t,n,o){var i;return d(t)?t:t.startsWith(
                            "-")||t.startsWith( "+")?Math.max(0,e+parseFloat(t)): "<"===t?n:null!==(i=o.get(t))&&void 0!==i?i:e}function eraseKeyframes(e,t,n){for(let o=0;o<e.length;o++){const i=e[o];if(i.at>t&&i.at
                            <n){h(e,i);o--}}}function addKeyframes(e,t,n,o,i,s){eraseKeyframes(e,i,s);for(let r=0;r<t.length;r++)e.push({value:t[r],at:p(i,s,o[r]),easing:v(n,r)})}function compareByTime(e,t){return e.at===t.at?null===e.value?1:-1:e.at-t.at}function
                                timeline(e,n={}){var o;const i=createAnimationsFromTimeline(e,n);const s=i.map((e=>animateStyle(...e,t))).filter(Boolean);return withControls(s,n,null===(o=i[0])||void 0===o?void 0:o[3].duration)}function createAnimationsFromTimeline(e,t={}){var{defaultOptions:n={}}=t,o=A(t,["defaultOptions"]);const i=[];const
                                r=new Map;const c={};const u=new Map;let d=0;let g=0;let m=0;for(let t=0;t
                                <e.length;t++){const o=e[t];if(l(o)){u.set(o,g);continue}if(!Array.isArray(o)){u.set(o.name,calcNextTime(g,o.at,d,u));continue}const[i,s,h={}]=o;void
                                    0!==h.at&&(g=calcNextTime(g,h.at,d,u));let p=0;const v=resolveElements(i,c);const E=v.length;for(let e=0;e<E;e++){const t=v[e];const o=getElementSequence(t,r);for(const t in s){const i=getValueSequence(t,o);let r=keyframesList(s[t]);const
                                    c=getOptions(h,t);let{duration:l=n.duration||a.duration,easing:u=n.easing||a.easing}=c;if(f(u)){S( "opacity"===t||r.length>1,"spring must be provided 2 keyframes within timeline()");const e=u.createAnimation(r,"opacity"!==t,(()=>0),t);u=e.easing;r=e.keyframes||r;l=e.duration||l}const d=resolveOption(h.delay,e,E)||0;const v=g+d;const b=v+l;let{offset:A=y(r.length)}=c;1===A.length&&0===A[0]&&(A[1]=1);const
                                    O=length-r.length;O>0&&w(A,O);1===r.length&&r.unshift(null);addKeyframes(i,r,u,A,v,b);p=Math.max(d+l,p);m=Math.max(b,m)}}d=g;g+=p}r.forEach(((e,t)=>{for(const r in e){const c=e[r];c.sort(compareByTime);const l=[];const
                                    f=[];const u=[];for(let e=0;e
                                    <c.length;e++){const{at:t,value:n,easing:o}=c[e];l.push(n);f.push(s(0,m,t));u.push(o||a.easing)}if(0!==f[0]){f.unshift(0);l.unshift(l[0]);u.unshift( "linear")}if(1!==f[f.length-1]){f.push(1);l.push(null)}i.push([t,r,l,Object.assign(Object.assign(Object.assign({},n),{duration:m,easing:u,offset:f}),o)])}}));return
                                        i}function getElementSequence(e,t){!t.has(e)&&t.set(e,{});return t.get(e)}function getValueSequence(e,t){t[e]||(t[e]=[]);return t[e]}function canGenerate(e){return d(e)&&!isNaN(e)}function getAsNumber(e){return l(e)?parseFloat(e):e}function
                                        createGeneratorEasing(e){const t=new WeakMap;return(n={})=>{const i=new Map;const getGenerator=(t=0,o=100,s=0,r=false)=>{const a=`${t}-${o}-${s}-${r}`;i.has(a)||i.set(a,e(Object.assign({from:t,to:o,velocity:s,restSpeed:r?.05:2,restDistance:r?.01:.5},n)));return i.get(a)};const
                                        getKeyframes=(e,n)=>{t.has(e)||t.set(e,O(e,n));return t.get(e)};return{createAnimation:(e,t=true,n,i,s)=>{let r;let a;let c;let l=0;let f=o;const u=e.length;if(t){f=getUnitConverter(e,i?B.get(getStyleName(i)):void
                                        0);const t=e[u-1];c=getAsNumber(t);if(u>1&&null!==e[0])a=getAsNumber(e[0]);else{const e=null===s||void 0===s?void 0:s.generator;if(e){const{animation:t,generatorStartTime:n}=s;const o=(null===t||void 0===t?void
                                        0:t.startTime)||n||0;const i=(null===t||void 0===t?void 0:t.currentTime)||performance.now()-o;const r=e(i).current;a=r;l=x((t=>e(t).current),i,r)}else n&&(a=getAsNumber(n()))}}if(canGenerate(a)&&canGenerate(c)){const
                                        e=getGenerator(a,c,l,null===i||void 0===i?void 0:i.includes("scale"));r=Object.assign(Object.assign({},getKeyframes(e,f)),{easing:"linear"});if(s){s.generator=e;s.generatorStartTime=performance.now()}}if(!r){const
                                        e=getKeyframes(getGenerator(0,100));r={easing:"ease",duration:e.overshootDuration}}return r}}}}const G=createGeneratorEasing(z);const q=createGeneratorEasing(V);const K={any:0,all:1};function inView$1(e,t,{root:n,margin:o,amount:i="any"}={}){if("undefined"===typeof
                                        IntersectionObserver)return()=>{};const s=resolveElements(e);const a=new WeakMap;const onIntersectionChange=e=>{e.forEach((e=>{const n=a.get(e.target);if(e.isIntersecting!==Boolean(n))if(e.isIntersecting){const
                                        n=t(e);r(n)?a.set(e.target,n):c.unobserve(e.target)}else if(n){n(e);a.delete(e.target)}}))};const c=new IntersectionObserver(onIntersectionChange,{root:n,rootMargin:o,threshold:"number"===typeof i?i:K[i]});s.forEach((e=>c.observe(e)));return()=>c.disconnect()}const
                                        _=new WeakMap;let Z;function getElementSize(e,t){if(t){const{inlineSize:e,blockSize:n}=t[0];return{width:e,height:n}}return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function
                                        notifyTarget({target:e,contentRect:t,borderBoxSize:n}){var o;null===(o=_.get(e))||void 0===o?void 0:o.forEach((o=>{o({target:e,contentSize:t,get size(){return getElementSize(e,n)}})}))}function notifyAll(e){e.forEach(notifyTarget)}function
                                        createResizeObserver(){"undefined"!==typeof ResizeObserver&&(Z=new ResizeObserver(notifyAll))}function resizeElement(e,t){Z||createResizeObserver();const n=resolveElements(e);n.forEach((e=>{let n=_.get(e);if(!n){n=new
                                        Set;_.set(e,n)}n.add(t);null===Z||void 0===Z?void 0:Z.observe(e)}));return()=>{n.forEach((e=>{const n=_.get(e);null===n||void 0===n?void 0:n.delete(t);(null===n||void 0===n?void 0:n.size)||(null===Z||void 0===Z?void
                                        0:Z.unobserve(e))}))}}const X=new Set;let Y;function createWindowResizeHandler(){Y=()=>{const e={width:window.innerWidth,height:window.innerHeight};const t={target:window,size:e,contentSize:e};X.forEach((e=>e(t)))};window.addEventListener("resize",Y)}function
                                        resizeWindow(e){X.add(e);Y||createWindowResizeHandler();return()=>{X.delete(e);!X.size&&Y&&(Y=void 0)}}function resize(e,t){return r(e)?resizeWindow(e):resizeElement(e,t)}const J=50;const createAxisInfo=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0});const
                                        createScrollInfo=()=>({time:0,x:createAxisInfo(),y:createAxisInfo()});const Q={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function updateAxisInfo(e,t,n,o){const i=n[t];const{length:r,position:a}=Q[t];const
                                        c=i.current;const l=n.time;i.current=e["scroll"+a];i.scrollLength=e["scroll"+r]-e["client"+r];i.offset.length=0;i.offset[0]=0;i.offset[1]=i.scrollLength;i.progress=s(0,i.scrollLength,i.current);const f=o-l;i.velocity=f>J?0:E(i.current-c,f)}function
                                        updateScrollInfo(e,t,n){updateAxisInfo(e,"x",t,n);updateAxisInfo(e,"y",t,n);t.time=n}function calcInset(e,t){let n={x:0,y:0};let o=e;while(o&&o!==t)if(o instanceof HTMLElement){n.x+=o.offsetLeft;n.y+=o.offsetTop;o=o.offsetParent}else
                                        if(o instanceof SVGGraphicsElement&&"getBBox"in o){const{top:e,left:t}=o.getBBox();n.x+=t;n.y+=e;while(o&&"svg"!==o.tagName)o=o.parentNode}return n}const ee={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]};const
                                        te={start:0,center:.5,end:1};function resolveEdge(e,t,n=0){let o=0;void 0!==te[e]&&(e=te[e]);if(l(e)){const t=parseFloat(e);e.endsWith("px")?o=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?o=t/100*document.documentElement.clientWidth:e.endsWith("vh")?o=t/100*document.documentElement.clientHeight:e=t}d(e)&&(o=t*e);return
                                        n+o}const ne=[0,0];function resolveOffset(e,t,n,o){let i=Array.isArray(e)?e:ne;let s=0;let r=0;if(d(e))i=[e,e];else if(l(e)){e=e.trim();i=e.includes(" ")?e.split(" "):[e,te[e]?e:"0"]}s=resolveEdge(i[0],n,o);r=resolveEdge(i[1],t);return
                                        s-r}const oe={x:0,y:0};function resolveOffsets(e,t,n){let{offset:o=ee.All}=n;const{target:i=e,axis:s="y"}=n;const r="y"===s?"height":"width";const a=i!==e?calcInset(i,e):oe;const c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:{width:i.clientWidth,height:i.clientHeight};const
                                        l={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let f=!t[s].interpolate;const u=o.length;for(let e=0;e
                                        <u;e++){const n=resolveOffset(o[e],l[r],c[r],a[s]);f||n===t[s].interpolatorOffsets[e]||(f=true);t[s].offset[e]=n}if(f){t[s].interpolate=b(y(u),t[s].offset);t[s].interpolatorOffsets=[...t[s].offset]}t[s].progress=t[s].interpolate(t[s].current)}function
                                            measure(e,t=e,n){n.x.targetOffset=0;n.y.targetOffset=0;if(t!==e){let o=t;while(o&&o!=e){n.x.targetOffset+=o.offsetLeft;n.y.targetOffset+=o.offsetTop;o=o.offsetParent}}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth;n.y.targetLength=t===e?t.scrollHeight:t.clientHeight;n.x.containerLength=e.clientWidth;n.y.containerLength=e.clientHeight}function
                                            createOnScrollHandler(e,t,n,o={}){const i=o.axis|| "y";return{measure:()=>measure(e,o.target,n),update:t=>{updateScrollInfo(e,n,t);(o.offset||o.target)&&resolveOffsets(e,n,o)},notify:r(t)?()=>t(n):scrubAnimation(t,n[i])}}function scrubAnimation(e,t){e.pause();e.forEachNative(((e,{easing:t})=>{var
                                            n,i;if(e.updateDuration){t||(e.easing=o);e.updateDuration(1)}else{const o={duration:1e3};t||(o.easing="linear");null===(i=null===(n=e.effect)||void 0===n?void 0:n.updateTiming)||void 0===i?void 0:i.call(n,o)}}));return()=>{e.currentTime=t.progress}}const
                                            ie=new WeakMap;const se=new WeakMap;const re=new WeakMap;const getEventTarget=e=>e===document.documentElement?window:e;function scroll(e,t={}){var{container:n=document.documentElement}=t,o=A(t,["container"]);let
                                            i=re.get(n);if(!i){i=new Set;re.set(n,i)}const s=createScrollInfo();const r=createOnScrollHandler(n,e,s,o);i.add(r);if(!ie.has(n)){const listener=()=>{const e=performance.now();for(const e of i)e.measure();for(const
                                            t of i)t.update(e);for(const e of i)e.notify()};ie.set(n,listener);const e=getEventTarget(n);window.addEventListener("resize",listener,{passive:true});n!==document.documentElement&&se.set(n,resize(n,listener));e.addEventListener("scroll",listener,{passive:true})}const
                                            a=ie.get(n);const c=requestAnimationFrame(a);return()=>{var t;"function"!==typeof e&&e.stop();cancelAnimationFrame(c);const o=re.get(n);if(!o)return;o.delete(r);if(o.size)return;const i=ie.get(n);ie.delete(n);if(i){getEventTarget(n).removeEventListener("scroll",i);null===(t=se.get(n))||void
                                            0===t?void 0:t();window.removeEventListener("resize",i)}}}function hasChanged(e,t){return typeof e!==typeof t||(Array.isArray(e)&&Array.isArray(t)?!shallowCompare(e,t):e!==t)}function shallowCompare(e,t){const
                                            n=t.length;if(n!==e.length)return false;for(let o=0;o
                                            <n;o++)if(t[o]!==e[o])return false;return true}function isVariant(e){return "object"===typeof e}function resolveVariant(e,t){return isVariant(e)?e:e&&t?t[e]:void
                                                0}let ae;function processScheduledAnimations(){if(!ae)return;const e=ae.sort(compareByDepth).map(fireAnimateUpdates);e.forEach(fireNext);e.forEach(fireNext);ae=void 0}function scheduleAnimation(e){if(ae)i(ae,e);else{ae=[e];requestAnimationFrame(processScheduledAnimations)}}function
                                                unscheduleAnimation(e){ae&&h(ae,e)}const compareByDepth=(e,t)=>e.getDepth()-t.getDepth();const fireAnimateUpdates=e=>e.animateUpdates();const fireNext=e=>e.next();const motionEvent=(e,t)=>new CustomEvent(e,{detail:{target:t}});function dispatchPointerEvent(e,t,n){e.dispatchEvent(new
                                                CustomEvent(t,{detail:{originalEvent:n}}))}function dispatchViewEvent(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEntry:n}}))}const ce={isActive:e=>Boolean(e.inView),subscribe:(e,{enable:t,disable:n},{inViewOptions:o={}})=>{const{once:i}=o,s=A(o,["once"]);return
                                                inView$1(e,(o=>{t();dispatchViewEvent(e,"viewenter",o);if(!i)return t=>{n();dispatchViewEvent(e,"viewleave",t)}}),s)}};const mouseEvent=(e,t,n)=>o=>{if(!o.pointerType||"mouse"===o.pointerType){n();dispatchPointerEvent(e,t,o)}};const
                                                le={isActive:e=>Boolean(e.hover),subscribe:(e,{enable:t,disable:n})=>{const o=mouseEvent(e,"hoverstart",t);const i=mouseEvent(e,"hoverend",n);e.addEventListener("pointerenter",o);e.addEventListener("pointerleave",i);return()=>{e.removeEventListener("pointerenter",o);e.removeEventListener("pointerleave",i)}}};const
                                                fe={isActive:e=>Boolean(e.press),subscribe:(e,{enable:t,disable:n})=>{const onPointerUp=t=>{n();dispatchPointerEvent(e,"pressend",t);window.removeEventListener("pointerup",onPointerUp)};const onPointerDown=n=>{t();dispatchPointerEvent(e,"pressstart",n);window.addEventListener("pointerup",onPointerUp)};e.addEventListener("pointerdown",onPointerDown);return()=>{e.removeEventListener("pointerdown",onPointerDown);window.removeEventListener("pointerup",onPointerUp)}}};const
                                                ue={inView:ce,hover:le,press:fe};const de=["initial","animate",...Object.keys(ue),"exit"];const ge=new WeakMap;function createMotionState(e={},n){let o;let i=n?n.getDepth()+1:0;const s={initial:true,animate:true};const
                                                r={};const a={};for(const t of de)a[t]="string"===typeof e[t]?e[t]:null===n||void 0===n?void 0:n.getContext()[t];const c=false===e.initial?"animate":"initial";let l=resolveVariant(e[c]||a[c],e.variants)||{},f=A(l,["transition"]);const
                                                u=Object.assign({},f);function*animateUpdates(){var n,i;const r=f;f={};const a={};for(const t of de){if(!s[t])continue;const o=resolveVariant(e[t]);if(o)for(const t in o)if("transition"!==t){f[t]=o[t];a[t]=getOptions(null!==(i=null!==(n=o.transition)&&void
                                                0!==n?n:e.transition)&&void 0!==i?i:{},t)}}const c=new Set([...Object.keys(f),...Object.keys(r)]);const l=[];c.forEach((e=>{var n;void 0===f[e]&&(f[e]=u[e]);if(hasChanged(r[e],f[e])){null!==(n=u[e])&&void
                                                0!==n?n:u[e]=I.get(o,e);l.push(animateStyle(o,e,f[e],a[e],t))}}));yield;const d=l.map((e=>e())).filter(Boolean);if(!d.length)return;const g=f;o.dispatchEvent(motionEvent("motionstart",g));Promise.all(d.map((e=>e.finished))).then((()=>{o.dispatchEvent(motionEvent("motioncomplete",g))})).catch(m)}const
                                                setGesture=(e,t)=>()=>{s[e]=t;scheduleAnimation(d)};const updateGestureSubscriptions=()=>{for(const t in ue){const n=ue[t].isActive(e);const i=r[t];if(n&&!i)r[t]=ue[t].subscribe(o,{enable:setGesture(t,true),disable:setGesture(t,false)},e);else
                                                if(!n&&i){i();delete r[t]}}};const d={update:t=>{if(o){e=t;updateGestureSubscriptions();scheduleAnimation(d)}},setActive:(e,t)=>{if(o){s[e]=t;scheduleAnimation(d)}},animateUpdates:animateUpdates,getDepth:()=>i,getTarget:()=>f,getOptions:()=>e,getContext:()=>a,mount:e=>{S(Boolean(e),"Animation
                                                state must be mounted with valid Element");o=e;ge.set(o,d);updateGestureSubscriptions();return()=>{ge.delete(o);unscheduleAnimation(d);for(const e in r)r[e]()}},isMounted:()=>Boolean(o)};return d}function
                                                createStyles(e){const t={};const n=[];for(let o in e){const i=e[o];if(isTransform(o)){D[o]&&(o=D[o]);n.push(o);o=asTransformCssVar(o)}let s=Array.isArray(i)?i[0]:i;const r=B.get(o);r&&(s=d(i)?r.toDefaultUnit(i):i);t[o]=s}n.length&&(t.transform=buildTransformTemplate(n));return
                                                t}const camelLetterToPipeLetter=e=>`-${e.toLowerCase()}`;const camelToPipeCase=e=>e.replace(/[A-Z]/g,camelLetterToPipeLetter);function createStyleString(e={}){const t=createStyles(e);let n="";for(const e
                                                in t){n+=e.startsWith("--")?e:camelToPipeCase(e);n+=`: ${t[e]}; `}return n}export{ee as ScrollOffset,F as animate,animateStyle,createAnimate,createMotionState,createStyleString,createStyles,getAnimationData,getStyleName,q
                                                as glide,inView$1 as inView,ge as mountedStates,resize,scroll,G as spring,stagger,I as style,timeline,withControls}; //# sourceMappingURL=index.es.js.map